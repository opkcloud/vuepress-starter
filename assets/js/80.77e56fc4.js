(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{486:function(t,e,a){"use strict";a.r(e);var r=a(2),o=Object(r.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h3",{attrs:{id:"pika内存占用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pika内存占用"}},[t._v("#")]),t._v(" Pika内存占用")]),t._v(" "),e("ol",[e("li",[t._v("rocksdb 内存占用")]),t._v(" "),e("li",[t._v("pika 内存占用(tcmalloc 占用)")])]),t._v(" "),e("h4",{attrs:{id:"_1-rocksdb-内存占用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-rocksdb-内存占用"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/wiki/Pika-Memory-Usage#1-rocksdb-%E5%86%85%E5%AD%98%E5%8D%A0%E7%94%A8",target:"_blank",rel:"noopener noreferrer"}},[e("OutboundLink")],1),t._v("1. rocksdb 内存占用")]),t._v(" "),e("p",[t._v("命令行命令 info data")]),t._v(" "),e("p",[t._v("used_memory_human = db_memtable_usage + db_tablereader_usage")]),t._v(" "),e("p",[t._v("相应配置及对应影响参数")]),t._v(" "),e("p",[t._v("write-buffer-size => db_memtable_usage")]),t._v(" "),e("p",[t._v("max-write-buffer-size => db_memtable_usage")]),t._v(" "),e("p",[t._v("max-cache-files => db_tablereader_usage")]),t._v(" "),e("p",[t._v("对应rocksdb配置解释")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/facebook/rocksdb/wiki/Setup-Options-and-Basic-Tuning",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/facebook/rocksdb/wiki/Setup-Options-and-Basic-Tuning"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/facebook/rocksdb/wiki/Memory-usage-in-RocksDB",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/facebook/rocksdb/wiki/Memory-usage-in-RocksDB"),e("OutboundLink")],1)]),t._v(" "),e("h4",{attrs:{id:"_2-pika-内存占用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-pika-内存占用"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/wiki/Pika-Memory-Usage#2-pika-%E5%86%85%E5%AD%98%E5%8D%A0%E7%94%A8",target:"_blank",rel:"noopener noreferrer"}},[e("OutboundLink")],1),t._v("2. pika 内存占用")]),t._v(" "),e("p",[t._v("如果使用tcmalloc，绝大多数情况下是tcmalloc暂时占用内存。")]),t._v(" "),e("p",[t._v("命令行命令：tcmalloc stats")]),t._v(" "),e("p",[t._v("命令行命令：tcmalloc free 释放tcmalloc 占用内存")])])}),[],!1,null,null,null);e.default=o.exports}}]);