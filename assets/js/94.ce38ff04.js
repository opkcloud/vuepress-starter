(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{503:function(t,e,a){"use strict";a.r(e);var r=a(2),_=Object(r.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h4",{attrs:{id:"config-get-set-rewrite"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#config-get-set-rewrite"}},[t._v("#")]),t._v(" config [get | set | rewrite]")]),t._v(" "),e("p",[t._v("在服务器配置中，支持参数的get、set、rewrite，支持的参数如下：")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("-")]),t._v(" "),e("th",[t._v("GET")]),t._v(" "),e("th",[t._v("SET")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("binlog-file-size")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("x")])]),t._v(" "),e("tr",[e("td",[t._v("compact-cron")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("o")])]),t._v(" "),e("tr",[e("td",[t._v("compact-interval")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("o")])]),t._v(" "),e("tr",[e("td",[t._v("compression")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("x")])]),t._v(" "),e("tr",[e("td",[t._v("daemonize")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("x")])]),t._v(" "),e("tr",[e("td",[t._v("db-path")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("x")])]),t._v(" "),e("tr",[e("td",[t._v("db-sync-path")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("x")])]),t._v(" "),e("tr",[e("td",[t._v("db-sync-speed")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("x")])]),t._v(" "),e("tr",[e("td",[t._v("double-master-ip")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("o")])]),t._v(" "),e("tr",[e("td",[t._v("double-master-port")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("x")])]),t._v(" "),e("tr",[e("td",[t._v("double-master-sid")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("x")])]),t._v(" "),e("tr",[e("td",[t._v("dump-expire")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("o")])]),t._v(" "),e("tr",[e("td",[t._v("dump-path")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("x")])]),t._v(" "),e("tr",[e("td",[t._v("dump-prefix")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("o")])]),t._v(" "),e("tr",[e("td",[t._v("expire-logs-days")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("o")])]),t._v(" "),e("tr",[e("td",[t._v("expire-logs-nums")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("o")])]),t._v(" "),e("tr",[e("td",[t._v("identify-binlog-type")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("o")])]),t._v(" "),e("tr",[e("td",[t._v("loglevel")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("o")])]),t._v(" "),e("tr",[e("td",[t._v("log-path")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("x")])]),t._v(" "),e("tr",[e("td",[t._v("masterauth")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("o")])]),t._v(" "),e("tr",[e("td",[t._v("max-background-compactions")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("x")])]),t._v(" "),e("tr",[e("td",[t._v("max-background-flushes")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("x")])]),t._v(" "),e("tr",[e("td",[t._v("max-bytes-for-level-multiplier")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("x")])]),t._v(" "),e("tr",[e("td",[t._v("max-cache-files")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("x")])]),t._v(" "),e("tr",[e("td",[t._v("maxclients")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("o")])]),t._v(" "),e("tr",[e("td",[t._v("maxmemory")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("x")])]),t._v(" "),e("tr",[e("td",[t._v("network-interface")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("x")])]),t._v(" "),e("tr",[e("td",[t._v("pidfile")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("x")])]),t._v(" "),e("tr",[e("td",[t._v("port")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("x")])]),t._v(" "),e("tr",[e("td",[t._v("requirepass")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("o")])]),t._v(" "),e("tr",[e("td",[t._v("root-connection-num")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("o")])]),t._v(" "),e("tr",[e("td",[t._v("slaveof")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("x")])]),t._v(" "),e("tr",[e("td",[t._v("slave-priority")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("o")])]),t._v(" "),e("tr",[e("td",[t._v("slave-read-only")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("o")])]),t._v(" "),e("tr",[e("td",[t._v("slotmigrate")]),t._v(" "),e("td",[t._v("o(❤️.0.0)")]),t._v(" "),e("td",[t._v("o(❤️.0.0)")])]),t._v(" "),e("tr",[e("td",[t._v("slowlog-log-slower-than")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("o")])]),t._v(" "),e("tr",[e("td",[t._v("slowlog-write-errorlog")]),t._v(" "),e("td",[t._v("o(❤️.0.2)")]),t._v(" "),e("td",[t._v("o(❤️.0.2)")])]),t._v(" "),e("tr",[e("td",[t._v("sync-buffer-size")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("x")])]),t._v(" "),e("tr",[e("td",[t._v("sync-thread-num")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("x")])]),t._v(" "),e("tr",[e("td",[t._v("target-file-size-base")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("x")])]),t._v(" "),e("tr",[e("td",[t._v("thread-num")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("x")])]),t._v(" "),e("tr",[e("td",[t._v("timeout")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("o")])]),t._v(" "),e("tr",[e("td",[t._v("userblacklist")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("o")])]),t._v(" "),e("tr",[e("td",[t._v("userpass")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("o")])]),t._v(" "),e("tr",[e("td",[t._v("write-buffer-size")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("x")])]),t._v(" "),e("tr",[e("td",[t._v("max-cache-statistic-keys")]),t._v(" "),e("td",[t._v("o(❤️.0.6)")]),t._v(" "),e("td",[t._v("o(❤️.0.6)")])]),t._v(" "),e("tr",[e("td",[t._v("small-compaction-threshold")]),t._v(" "),e("td",[t._v("o(❤️.0.6)")]),t._v(" "),e("td",[t._v("o(❤️.0.6)")])]),t._v(" "),e("tr",[e("td",[t._v("databases")]),t._v(" "),e("td",[t._v("o(❤️.1.0)")]),t._v(" "),e("td",[t._v("x")])]),t._v(" "),e("tr",[e("td",[t._v("write-binlog")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("o")])]),t._v(" "),e("tr",[e("td",[t._v("thread-pool-size")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("x")])]),t._v(" "),e("tr",[e("td",[t._v("slowlog-max-len")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("o")])]),t._v(" "),e("tr",[e("td",[t._v("share-block-cache")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("x")])]),t._v(" "),e("tr",[e("td",[t._v("optimize-filters-for-hits")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("x")])]),t._v(" "),e("tr",[e("td",[t._v("level-compaction-dynamic-level-bytes")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("x")])]),t._v(" "),e("tr",[e("td",[t._v("cache-index-and-filter-blocks")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("x")])]),t._v(" "),e("tr",[e("td",[t._v("block-size")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("x")])]),t._v(" "),e("tr",[e("td",[t._v("block-cache")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("x")])]),t._v(" "),e("tr",[e("td",[t._v("sync-window-size")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("o")])])])]),t._v(" "),e("h3",{attrs:{id:"purgelogsto-write2file-name"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#purgelogsto-write2file-name"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/wiki/pika-%E5%B7%AE%E5%BC%82%E5%8C%96%E5%91%BD%E4%BB%A4#purgelogsto-write2file-name",target:"_blank",rel:"noopener noreferrer"}},[e("OutboundLink")],1),t._v("purgelogsto [write2file-name]")]),t._v(" "),e("p",[t._v("purgelogsto为pika原创命令, 功能为手动清理日志, 类似mysql的purge master logs to命令, 该命令有多重检测机制以确保日志一定为安全清理")]),t._v(" "),e("h3",{attrs:{id:"client-list"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#client-list"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/wiki/pika-%E5%B7%AE%E5%BC%82%E5%8C%96%E5%91%BD%E4%BB%A4#client-list",target:"_blank",rel:"noopener noreferrer"}},[e("OutboundLink")],1),t._v("client list")]),t._v(" "),e("p",[t._v("与redis相比, 展示的信息少于redis")]),t._v(" "),e("h3",{attrs:{id:"client-list-order-by-addr-idle"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#client-list-order-by-addr-idle"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/wiki/pika-%E5%B7%AE%E5%BC%82%E5%8C%96%E5%91%BD%E4%BB%A4#client-list-order-by-addridle",target:"_blank",rel:"noopener noreferrer"}},[e("OutboundLink")],1),t._v("client list order by [addr|idle]")]),t._v(" "),e("p",[t._v("pika原创命令，功能为按照ip address 或者 connection idle时间排序")]),t._v(" "),e("h3",{attrs:{id:"client-kill-all"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#client-kill-all"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/wiki/pika-%E5%B7%AE%E5%BC%82%E5%8C%96%E5%91%BD%E4%BB%A4#client-kill-all",target:"_blank",rel:"noopener noreferrer"}},[e("OutboundLink")],1),t._v("client kill all")]),t._v(" "),e("p",[t._v("pika原创命令, 功能为杀死当前所有链接（不包括同步进程但包含自己）")]),t._v(" "),e("h3",{attrs:{id:"慢日志-slowlog"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#慢日志-slowlog"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/wiki/pika-%E5%B7%AE%E5%BC%82%E5%8C%96%E5%91%BD%E4%BB%A4#%E6%85%A2%E6%97%A5%E5%BF%97slowlog",target:"_blank",rel:"noopener noreferrer"}},[e("OutboundLink")],1),t._v("慢日志(slowlog)")]),t._v(" "),e("p",[t._v("与redis不同, pika的慢日志不仅存放内存中允许通过slow log命令查看，同时也允许存放在error log中并无条数限制方便接分析，但需要打开slowlog-write-errorlog参数")]),t._v(" "),e("h3",{attrs:{id:"bgsave"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bgsave"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/wiki/pika-%E5%B7%AE%E5%BC%82%E5%8C%96%E5%91%BD%E4%BB%A4#bgsave",target:"_blank",rel:"noopener noreferrer"}},[e("OutboundLink")],1),t._v("bgsave")]),t._v(" "),e("p",[t._v("类似redis的bgsave, 先生成一个快照, 然后再将快照数据进行备份, 备份文件存放在dump目录下")]),t._v(" "),e("h3",{attrs:{id:"dumpoff"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dumpoff"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/wiki/pika-%E5%B7%AE%E5%BC%82%E5%8C%96%E5%91%BD%E4%BB%A4#dumpoff",target:"_blank",rel:"noopener noreferrer"}},[e("OutboundLink")],1),t._v("dumpoff")]),t._v(" "),e("p",[t._v("强行终止正在执行的dump进程(bgsave), 执行该命令后备份会立即停止然后在dump目录下生成一个dump-failed文件夹(Deprecated from v2.0)")]),t._v(" "),e("h3",{attrs:{id:"delbackup"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#delbackup"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/wiki/pika-%E5%B7%AE%E5%BC%82%E5%8C%96%E5%91%BD%E4%BB%A4#delbackup",target:"_blank",rel:"noopener noreferrer"}},[e("OutboundLink")],1),t._v("delbackup")]),t._v(" "),e("p",[t._v("删除dump目录下除正在使用（全同步中）的db快照外的其他快照")]),t._v(" "),e("h3",{attrs:{id:"compact"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#compact"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/wiki/pika-%E5%B7%AE%E5%BC%82%E5%8C%96%E5%91%BD%E4%BB%A4#compact",target:"_blank",rel:"noopener noreferrer"}},[e("OutboundLink")],1),t._v("compact")]),t._v(" "),e("p",[t._v("立即触发引擎层(rocksdb)所有数据结构执行全量compact操作, 全量compact能够通过sst文件的合并消除已删除或过期但未即时清理的数据, 能够在一定程度上降低数据体积, 需要注意的是, 全量compact会消耗一定io资源")]),t._v(" "),e("h3",{attrs:{id:"compact-string-hash-set-zset-list"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#compact-string-hash-set-zset-list"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/wiki/pika-%E5%B7%AE%E5%BC%82%E5%8C%96%E5%91%BD%E4%BB%A4#compact-string--hash--set--zset--list-",target:"_blank",rel:"noopener noreferrer"}},[e("OutboundLink")],1),t._v("compact [string | hash | set | zset | list ]")]),t._v(" "),e("p",[t._v("立即触发引擎层(rocksdb)对指定数据结构执行全量compact操作, 指定数据结构的全量compact能够通过sst文件的合并消除已删除或过期但未即时清理的数据, 能够在一定程度上降低该结构数据的数据体积, 需要注意的是, 全量compact会消耗一定io资源")]),t._v(" "),e("h3",{attrs:{id:"compact-db-string-hash-set-zset-list"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#compact-db-string-hash-set-zset-list"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/wiki/pika-%E5%B7%AE%E5%BC%82%E5%8C%96%E5%91%BD%E4%BB%A4#compact-db-string--hash--set--zset--list-",target:"_blank",rel:"noopener noreferrer"}},[e("OutboundLink")],1),t._v("compact $db [string | hash | set | zset | list ]")]),t._v(" "),e("p",[t._v("对指定的db进行全量compact。例如 compact db0 all会对db0上所有数据结构进行全量compact。")]),t._v(" "),e("h3",{attrs:{id:"flushdb-string-hash-set-zset-list"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#flushdb-string-hash-set-zset-list"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/wiki/pika-%E5%B7%AE%E5%BC%82%E5%8C%96%E5%91%BD%E4%BB%A4#flushdb-string--hash--set--zset--list-",target:"_blank",rel:"noopener noreferrer"}},[e("OutboundLink")],1),t._v("flushdb [string | hash | set | zset | list ]")]),t._v(" "),e("p",[t._v("flushdb命令允许只清除指定数据结构的所有数据, 如需删除所有数据请使用flushall")]),t._v(" "),e("h3",{attrs:{id:"keys-pattern-string-hash-set-zset-list"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#keys-pattern-string-hash-set-zset-list"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/wiki/pika-%E5%B7%AE%E5%BC%82%E5%8C%96%E5%91%BD%E4%BB%A4#keys-pattern-string--hash--set--zset--list-",target:"_blank",rel:"noopener noreferrer"}},[e("OutboundLink")],1),t._v("keys pattern [string | hash | set | zset | list ]")]),t._v(" "),e("p",[t._v("keys命令允许只输出指定数据结构的所有key, 如需输出所有结构的key请不要使用参数")]),t._v(" "),e("h3",{attrs:{id:"slaveof-ip-port-write2file-name-write2file-pos-force"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#slaveof-ip-port-write2file-name-write2file-pos-force"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/wiki/pika-%E5%B7%AE%E5%BC%82%E5%8C%96%E5%91%BD%E4%BB%A4#slaveof-ip-port-write2file-name-write2file-pos-force",target:"_blank",rel:"noopener noreferrer"}},[e("OutboundLink")],1),t._v("slaveof ip port [write2file-name] [write2file-pos] [force]")]),t._v(" "),e("p",[t._v("force参数用于触发强行全量同步(适用于主库write2file被清理无法为从库提供增量同步的场景), 全量同步后pika会自动切换至增量同步")]),t._v(" "),e("h3",{attrs:{id:"sort"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sort"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/wiki/pika-%E5%B7%AE%E5%BC%82%E5%8C%96%E5%91%BD%E4%BB%A4#sort",target:"_blank",rel:"noopener noreferrer"}},[e("OutboundLink")],1),t._v("sort")]),t._v(" "),e("p",[t._v("pika 不支持 sort 命令")]),t._v(" "),e("h3",{attrs:{id:"dbslaveof-db-0-7-filenum-offset"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dbslaveof-db-0-7-filenum-offset"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/wiki/pika-%E5%B7%AE%E5%BC%82%E5%8C%96%E5%91%BD%E4%BB%A4#dbslaveof-db0--7-filenum-offset",target:"_blank",rel:"noopener noreferrer"}},[e("OutboundLink")],1),t._v("dbslaveof db[0 ~ 7] filenum offset")]),t._v(" "),e("p",[t._v("需要与slaveof配合使用。dbslaveof命令允许通过指定write2file(binlog)的文件名称及同步位置来实现增量同步。这种操作分两步：第一步正常slaveof ip port 会与master匹配meta是否一致（db数目及编号是否一致）。此时slave节点binlog同步可能还是异常状态。第二步执行dbslaveof 设置对应db的同步点位。")]),t._v(" "),e("h3",{attrs:{id:"pkscanrange-type-key-start-key-end-match-pattern-limit-limit"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pkscanrange-type-key-start-key-end-match-pattern-limit-limit"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/wiki/pika-%E5%B7%AE%E5%BC%82%E5%8C%96%E5%91%BD%E4%BB%A4#pkscanrange-type-key_start-key_end-match-pattern-limit-limit",target:"_blank",rel:"noopener noreferrer"}},[e("OutboundLink")],1),t._v("pkscanrange type key_start key_end [MATCH pattern] [LIMIT limit]")]),t._v(" "),e("p",[t._v('对指定数据结构进行正向scan, 列出处于区间 [key_start, key_end] 的Key列表(如果type为string_with_value，则列出的是key-value列表) ("", ""] 表示整个区间。')]),t._v(" "),e("ul",[e("li",[t._v("type： 指定需要scan数据结构的类型，{string_with_value | string | hash| list | zset | set}")]),t._v(" "),e("li",[t._v("key_start： 返回的起始Key, 空字符串表示 -inf(无限小)")]),t._v(" "),e("li",[t._v("key_end：返回的结束Key, 空字符串表示 +inf(无限大)")])]),t._v(" "),e("h3",{attrs:{id:"pkrscanrange-type-key-start-key-end-match-pattern-limit-limit"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pkrscanrange-type-key-start-key-end-match-pattern-limit-limit"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/wiki/pika-%E5%B7%AE%E5%BC%82%E5%8C%96%E5%91%BD%E4%BB%A4#pkrscanrange-type-key_start-key_end-match-pattern-limit-limit",target:"_blank",rel:"noopener noreferrer"}},[e("OutboundLink")],1),t._v("pkrscanrange type key_start key_end [MATCH pattern] [LIMIT limit]")]),t._v(" "),e("p",[t._v("类似于pkscanrange, 逆序")]),t._v(" "),e("h3",{attrs:{id:"pkhscanrange-key-field-start-field-end-match-pattern-limit-limit"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pkhscanrange-key-field-start-field-end-match-pattern-limit-limit"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/wiki/pika-%E5%B7%AE%E5%BC%82%E5%8C%96%E5%91%BD%E4%BB%A4#pkhscanrange-key-field_start-field_end--match-pattern-limit-limit",target:"_blank",rel:"noopener noreferrer"}},[e("OutboundLink")],1),t._v("pkhscanrange key field_start field_end [MATCH pattern] [LIMIT limit]")]),t._v(" "),e("p",[t._v("列出指定hash table中处于区间 [field_start, field_end] 的 field-value 列表.")]),t._v(" "),e("ul",[e("li",[t._v("key：hash table对应的key")]),t._v(" "),e("li",[t._v("field_start： 返回的起始Field, 空字符串表示 -inf(无限小)")]),t._v(" "),e("li",[t._v("field_end：返回的结束Field, 空字符串表示 +inf(无限大)")])]),t._v(" "),e("h3",{attrs:{id:"pkhrscanrange-key-field-start-field-end-match-pattern-limit-limit"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pkhrscanrange-key-field-start-field-end-match-pattern-limit-limit"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/wiki/pika-%E5%B7%AE%E5%BC%82%E5%8C%96%E5%91%BD%E4%BB%A4#pkhrscanrange-key-field_start-field_end--match-pattern-limit-limit",target:"_blank",rel:"noopener noreferrer"}},[e("OutboundLink")],1),t._v("pkhrscanrange key field_start field_end [MATCH pattern] [LIMIT limit]")]),t._v(" "),e("p",[t._v("类似于pkhscanrange, 逆序")]),t._v(" "),e("h3",{attrs:{id:"diskrecovery"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#diskrecovery"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/wiki/pika-%E5%B7%AE%E5%BC%82%E5%8C%96%E5%91%BD%E4%BB%A4#diskrecovery",target:"_blank",rel:"noopener noreferrer"}},[e("OutboundLink")],1),t._v("diskrecovery")]),t._v(" "),e("p",[t._v("Pika 原创命令，功能为当磁盘意外写满后，RocksDB 会进入写保护状态，当我们将空间调整为充足空间时，这个命令可以将 RocksDB 的写保护状态解除，变为可以继续写的状态, 避免了 Pika 因为磁盘写满后需要重启才能恢复写的情况，执行成功时返回 OK，如果当前磁盘空间依然不足，执行这个命令返回"),e("code",[t._v('"The available disk capacity is insufficient')]),t._v("，该命令执行时不需要额外参数，只需要执行 diskrecovery 即可。")]),t._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" diskrecovery \n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" OK\n")])])]),e("h3",{attrs:{id:"clearreplicationid"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#clearreplicationid"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/wiki/pika-%E5%B7%AE%E5%BC%82%E5%8C%96%E5%91%BD%E4%BB%A4#clearreplicationid",target:"_blank",rel:"noopener noreferrer"}},[e("OutboundLink")],1),t._v("clearreplicationid")]),t._v(" "),e("p",[t._v("Pika 原创命令，功能是清空 Pika 实例的 replicationid 的值并持久化到配置文件中")]),t._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" clearreplicationid\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" OK\n")])])]),e("h3",{attrs:{id:"disablewal"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#disablewal"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/OpenAtomFoundation/pika/wiki/pika-%E5%B7%AE%E5%BC%82%E5%8C%96%E5%91%BD%E4%BB%A4#disablewal",target:"_blank",rel:"noopener noreferrer"}},[e("OutboundLink")],1),t._v("DisableWal")]),t._v(" "),e("p",[t._v("我们可以根据 disablewal (true/false) 接受两个参数来决定 WAL 选项的开关，true 表示写 WAL 功能关闭，false 表示写 WAL 功能开启，需要注意的是写 WAL 默认是开启的")]),t._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" disablewal "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("  // 写 WAL 关闭\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" OK\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" disablewal "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("  // 写 WAL 开启\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" OK\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" disablewal asdfs // 识别到异常参数\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" ERR Invalid parameter\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" disable "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v(" dasfasd // 参数数目异常\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" ERR wrong number of arguments "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'disablewal'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("command")]),t._v("\n")])])])])}),[],!1,null,null,null);e.default=_.exports}}]);