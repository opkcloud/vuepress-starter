<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>pika-NoSQL原理概述 | Pika</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="Pika是一个可持久化的大容量Redis存储服务，兼容string、hash、list、zset、set的绝大接口兼容详情，解决Redis由于存储数据量巨大而导致内存不够用的容量瓶颈。">
    
    <link rel="preload" href="/vuepress-starter/assets/css/0.styles.b3247756.css" as="style"><link rel="preload" href="/vuepress-starter/assets/js/app.f0fc3d8e.js" as="script"><link rel="preload" href="/vuepress-starter/assets/js/7.1224f65b.js" as="script"><link rel="preload" href="/vuepress-starter/assets/js/2.9327ce59.js" as="script"><link rel="preload" href="/vuepress-starter/assets/js/1.2cb690fe.js" as="script"><link rel="preload" href="/vuepress-starter/assets/js/49.ecdf7e69.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/js/10.dfb0299a.js"><link rel="prefetch" href="/vuepress-starter/assets/js/100.6077cf0b.js"><link rel="prefetch" href="/vuepress-starter/assets/js/101.9ef84e24.js"><link rel="prefetch" href="/vuepress-starter/assets/js/102.ad04b27f.js"><link rel="prefetch" href="/vuepress-starter/assets/js/103.d25d3740.js"><link rel="prefetch" href="/vuepress-starter/assets/js/104.d97b2f47.js"><link rel="prefetch" href="/vuepress-starter/assets/js/105.6172b686.js"><link rel="prefetch" href="/vuepress-starter/assets/js/11.479e3941.js"><link rel="prefetch" href="/vuepress-starter/assets/js/14.2c08602f.js"><link rel="prefetch" href="/vuepress-starter/assets/js/15.300912eb.js"><link rel="prefetch" href="/vuepress-starter/assets/js/16.35493753.js"><link rel="prefetch" href="/vuepress-starter/assets/js/17.0a7404ee.js"><link rel="prefetch" href="/vuepress-starter/assets/js/18.ea1a9e80.js"><link rel="prefetch" href="/vuepress-starter/assets/js/19.e7496b3f.js"><link rel="prefetch" href="/vuepress-starter/assets/js/20.75e38529.js"><link rel="prefetch" href="/vuepress-starter/assets/js/21.6040652a.js"><link rel="prefetch" href="/vuepress-starter/assets/js/22.68139099.js"><link rel="prefetch" href="/vuepress-starter/assets/js/23.397511f6.js"><link rel="prefetch" href="/vuepress-starter/assets/js/24.1c155833.js"><link rel="prefetch" href="/vuepress-starter/assets/js/25.da366b76.js"><link rel="prefetch" href="/vuepress-starter/assets/js/26.62212fb5.js"><link rel="prefetch" href="/vuepress-starter/assets/js/27.1417e115.js"><link rel="prefetch" href="/vuepress-starter/assets/js/28.8f61babf.js"><link rel="prefetch" href="/vuepress-starter/assets/js/29.47176a81.js"><link rel="prefetch" href="/vuepress-starter/assets/js/3.c3f44830.js"><link rel="prefetch" href="/vuepress-starter/assets/js/30.693811dd.js"><link rel="prefetch" href="/vuepress-starter/assets/js/31.aa1f8d83.js"><link rel="prefetch" href="/vuepress-starter/assets/js/32.67c6bce2.js"><link rel="prefetch" href="/vuepress-starter/assets/js/33.7dc5c153.js"><link rel="prefetch" href="/vuepress-starter/assets/js/34.380ce34c.js"><link rel="prefetch" href="/vuepress-starter/assets/js/35.b5fcd8bd.js"><link rel="prefetch" href="/vuepress-starter/assets/js/36.34421d06.js"><link rel="prefetch" href="/vuepress-starter/assets/js/37.974c194a.js"><link rel="prefetch" href="/vuepress-starter/assets/js/38.2d40b9d6.js"><link rel="prefetch" href="/vuepress-starter/assets/js/39.f80cb646.js"><link rel="prefetch" href="/vuepress-starter/assets/js/4.1b3561cf.js"><link rel="prefetch" href="/vuepress-starter/assets/js/40.380b0633.js"><link rel="prefetch" href="/vuepress-starter/assets/js/41.35cf3466.js"><link rel="prefetch" href="/vuepress-starter/assets/js/42.a2ead3a6.js"><link rel="prefetch" href="/vuepress-starter/assets/js/43.14c49557.js"><link rel="prefetch" href="/vuepress-starter/assets/js/44.43b7b7e7.js"><link rel="prefetch" href="/vuepress-starter/assets/js/45.fd9b70f2.js"><link rel="prefetch" href="/vuepress-starter/assets/js/46.21bf431c.js"><link rel="prefetch" href="/vuepress-starter/assets/js/47.88babd4e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/48.eceb4682.js"><link rel="prefetch" href="/vuepress-starter/assets/js/5.f8480ef0.js"><link rel="prefetch" href="/vuepress-starter/assets/js/50.796c4ac1.js"><link rel="prefetch" href="/vuepress-starter/assets/js/51.38842ca3.js"><link rel="prefetch" href="/vuepress-starter/assets/js/52.804ffa31.js"><link rel="prefetch" href="/vuepress-starter/assets/js/53.6c081d3b.js"><link rel="prefetch" href="/vuepress-starter/assets/js/54.60daa2d9.js"><link rel="prefetch" href="/vuepress-starter/assets/js/55.eee5382a.js"><link rel="prefetch" href="/vuepress-starter/assets/js/56.56281d5f.js"><link rel="prefetch" href="/vuepress-starter/assets/js/57.83657bfd.js"><link rel="prefetch" href="/vuepress-starter/assets/js/58.d5a7ef35.js"><link rel="prefetch" href="/vuepress-starter/assets/js/59.f6e1e4ca.js"><link rel="prefetch" href="/vuepress-starter/assets/js/6.73f77983.js"><link rel="prefetch" href="/vuepress-starter/assets/js/60.cd0e5719.js"><link rel="prefetch" href="/vuepress-starter/assets/js/61.627e27d1.js"><link rel="prefetch" href="/vuepress-starter/assets/js/62.5bfa9e3f.js"><link rel="prefetch" href="/vuepress-starter/assets/js/63.c8facc6c.js"><link rel="prefetch" href="/vuepress-starter/assets/js/64.09ecc792.js"><link rel="prefetch" href="/vuepress-starter/assets/js/65.8b9546d4.js"><link rel="prefetch" href="/vuepress-starter/assets/js/66.78873592.js"><link rel="prefetch" href="/vuepress-starter/assets/js/67.4dee5c46.js"><link rel="prefetch" href="/vuepress-starter/assets/js/68.657e0ecf.js"><link rel="prefetch" href="/vuepress-starter/assets/js/69.e543cdce.js"><link rel="prefetch" href="/vuepress-starter/assets/js/70.0390946e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/71.c5af6a67.js"><link rel="prefetch" href="/vuepress-starter/assets/js/72.477832da.js"><link rel="prefetch" href="/vuepress-starter/assets/js/73.411fb3d0.js"><link rel="prefetch" href="/vuepress-starter/assets/js/74.545dda1b.js"><link rel="prefetch" href="/vuepress-starter/assets/js/75.1f45d5be.js"><link rel="prefetch" href="/vuepress-starter/assets/js/76.5865f336.js"><link rel="prefetch" href="/vuepress-starter/assets/js/77.699bb81d.js"><link rel="prefetch" href="/vuepress-starter/assets/js/78.94559251.js"><link rel="prefetch" href="/vuepress-starter/assets/js/79.67b27a96.js"><link rel="prefetch" href="/vuepress-starter/assets/js/8.9c9773c0.js"><link rel="prefetch" href="/vuepress-starter/assets/js/80.a8d29349.js"><link rel="prefetch" href="/vuepress-starter/assets/js/81.837ffb71.js"><link rel="prefetch" href="/vuepress-starter/assets/js/82.1cc9b735.js"><link rel="prefetch" href="/vuepress-starter/assets/js/83.ab2f19cd.js"><link rel="prefetch" href="/vuepress-starter/assets/js/84.8f18e974.js"><link rel="prefetch" href="/vuepress-starter/assets/js/85.eba0c421.js"><link rel="prefetch" href="/vuepress-starter/assets/js/86.ec4fcd30.js"><link rel="prefetch" href="/vuepress-starter/assets/js/87.2ffce78b.js"><link rel="prefetch" href="/vuepress-starter/assets/js/88.cc6d556a.js"><link rel="prefetch" href="/vuepress-starter/assets/js/89.e54b3a5e.js"><link rel="prefetch" href="/vuepress-starter/assets/js/9.1d3a80e5.js"><link rel="prefetch" href="/vuepress-starter/assets/js/90.4709cc47.js"><link rel="prefetch" href="/vuepress-starter/assets/js/91.3ccaed2a.js"><link rel="prefetch" href="/vuepress-starter/assets/js/92.b7c31328.js"><link rel="prefetch" href="/vuepress-starter/assets/js/93.20d7b63d.js"><link rel="prefetch" href="/vuepress-starter/assets/js/94.417c98a0.js"><link rel="prefetch" href="/vuepress-starter/assets/js/95.0d74fe28.js"><link rel="prefetch" href="/vuepress-starter/assets/js/96.ae75736b.js"><link rel="prefetch" href="/vuepress-starter/assets/js/97.65b1a17d.js"><link rel="prefetch" href="/vuepress-starter/assets/js/98.c540f4fb.js"><link rel="prefetch" href="/vuepress-starter/assets/js/99.ab52afa7.js"><link rel="prefetch" href="/vuepress-starter/assets/js/vendors~docsearch.c040f9c6.js">
    <link rel="stylesheet" href="/vuepress-starter/assets/css/0.styles.b3247756.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>Pika</h3> <p class="description" data-v-59e6cb88>Pika是一个可持久化的大容量Redis存储服务，兼容string、hash、list、zset、set的绝大接口兼容详情，解决Redis由于存储数据量巨大而导致内存不够用的容量瓶颈。</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
          
        <!---->
        2023
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepress-starter/" class="home-link router-link-active"><!----> <span class="site-name">Pika</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuepress-starter/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      文档
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-starter/document/Pika介绍.html" class="nav-link"><i class="undefined"></i>
  概况
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-starter/use/安装使用.html" class="nav-link"><i class="undefined"></i>
  使用与运维
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-starter/design/整体架构.html" class="nav-link"><i class="undefined"></i>
  设计与实现
</a></li></ul></div></div><div class="nav-item"><a href="/vuepress-starter/tool/3.2.新旧可读三类binlog转换工具.html" class="nav-link"><i class="undefined"></i>
  工具包
</a></div><div class="nav-item"><a href="/vuepress-starter/weekly/20231201周会纪要.html" class="nav-link"><i class="undefined"></i>
  周会纪要
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      博客
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://baotiao.github.io/page2/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  陈宗志
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://kernelmaker.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  宋昭
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://axlgrep.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  吴显坚
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><!----> <!----> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>65</h3> <h6 data-v-1fad0c41>Articles</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>0</h3> <h6 data-v-1fad0c41>Tags</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/vuepress-starter/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      文档
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-starter/document/Pika介绍.html" class="nav-link"><i class="undefined"></i>
  概况
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-starter/use/安装使用.html" class="nav-link"><i class="undefined"></i>
  使用与运维
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-starter/design/整体架构.html" class="nav-link"><i class="undefined"></i>
  设计与实现
</a></li></ul></div></div><div class="nav-item"><a href="/vuepress-starter/tool/3.2.新旧可读三类binlog转换工具.html" class="nav-link"><i class="undefined"></i>
  工具包
</a></div><div class="nav-item"><a href="/vuepress-starter/weekly/20231201周会纪要.html" class="nav-link"><i class="undefined"></i>
  周会纪要
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      博客
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://baotiao.github.io/page2/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  陈宗志
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://kernelmaker.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  宋昭
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://axlgrep.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  吴显坚
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/vuepress-starter/design/整体架构" class="sidebar-heading clickable open"><span>设计与实现</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-starter/design/整体架构.html" class="sidebar-link">整体架构</a></li><li><a href="/vuepress-starter/design/线程模型.html" class="sidebar-link">线程模型</a></li><li><a href="/vuepress-starter/design/全同步.html" class="sidebar-link">全同步</a></li><li><a href="/vuepress-starter/design/增量同步.html" class="sidebar-link">增量同步</a></li><li><a href="/vuepress-starter/design/副本一致性.html" class="sidebar-link">副本一致性</a></li><li><a href="/vuepress-starter/design/快照式备份.html" class="sidebar-link">快照式备份</a></li><li><a href="/vuepress-starter/design/锁的应用.html" class="sidebar-link">锁的应用</a></li><li><a href="/vuepress-starter/design/nemo存储引擎数据格式.html" class="sidebar-link">nemo存储引擎数据格式</a></li><li><a href="/vuepress-starter/design/blackwidow存储引擎数据格式.html" class="sidebar-link">blackwidow存储引擎数据格式</a></li><li><a href="/vuepress-starter/design/Pika源码学习study1.html" class="sidebar-link">Pika源码学习--pika的通信和线程模型</a></li><li><a href="/vuepress-starter/design/Pika源码学习study2.html" class="sidebar-link">Pika源码学习--pika的PubSub机制</a></li><li><a href="/vuepress-starter/design/Pika源码学习study3.html" class="sidebar-link">Pika源码学习--pika的命令执行框架</a></li><li><a href="/vuepress-starter/design/Pika源码学习study4.html" class="sidebar-link">Pika源码学习--pika和rocksdb的对接</a></li><li><a href="/vuepress-starter/design/pika-NoSQL原理概述.html" class="active sidebar-link">pika-NoSQL原理概述</a></li><li><a href="/vuepress-starter/design/pika在codis中的探索.html" class="sidebar-link">pika在codis中的探索</a></li><li><a href="/vuepress-starter/design/Pika笔记.html" class="sidebar-link">Pika 笔记</a></li><li><a href="/vuepress-starter/design/pika主从同步原理.html" class="sidebar-link">pika 主从同步原理</a></li><li><a href="/vuepress-starter/design/Pika新存储结构Floyd.html" class="sidebar-link">Pika 新存储结构 Floyd</a></li><li><a href="/vuepress-starter/design/floyd存储方案.html" class="sidebar-link">floyd 存储方案</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>pika-NoSQL原理概述</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
          
        <!---->
        2023
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page" style="padding-right:0;"><section style="display:;"><div class="page-title"><h1 class="title">pika-NoSQL原理概述</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>--</span></i> <i class="iconfont reco-date" data-v-8a445198><span data-v-8a445198>12/2/2023</span></i> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h5 id="pika"><a href="#pika" class="header-anchor">#</a> pika</h5> <p>pika是一款基于rocksdb可持久化兼容redis协议的kv存储。当前最新的特性中还支持codis，可作为codis的后端存储使用，但是运维命令稍微有些不同。pika相对于redis而言主要是适合在容量大的场景下，简化了数据加载和迁移的相关操作，但是整体基于硬盘或者<a href="https://so.csdn.net/so/search?q=SSD&amp;spm=1001.2101.3001.7020" target="_blank" rel="noopener noreferrer">SSD<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的存储响应性能可能会差些。不过本文只是简单的来了解一下pika的设计的思路，方便以后在使用过程中加快对问题的诊断。</p> <h5 id="pika设计"><a href="#pika设计" class="header-anchor">#</a> pika设计</h5> <p>pika在设计的时候支持了两种运行模式，即经典模式和<a href="https://so.csdn.net/so/search?q=%E5%88%86%E5%B8%83%E5%BC%8F&amp;spm=1001.2101.3001.7020" target="_blank" rel="noopener noreferrer">分布式<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>模式。</p> <table><thead><tr><th>模式</th> <th>原理</th></tr></thead> <tbody><tr><td>经典模式</td> <td>即一主多从模式，安装pika实例维度，即1个pika实例的数据可以被多个从实例数据同步。</td></tr> <tr><td>分布式模式</td> <td>即用户的数据集合称为table，将table切分成多个分片，每个分片称为slot，对于某个key的数据是由哈希算法计算来决定属于哪个slot，将所有slots及其副本按照一定策略分散到所有的pika实例中，每个pika实例有一部分的主slot和一部分从slot，主从的维度为slot。</td></tr></tbody></table> <p>官网原理图如下</p> <p>经典模式</p> <p><img src="https://img-blog.csdnimg.cn/fbb32ba27ac84f57901672ef4d2967ed.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5bCP5bGL5a2Q5aSn5L6g,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p> <p>分布式模式<br> <img src="https://img-blog.csdnimg.cn/ed53f30617f741429ee6c1308bfa4a34.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5bCP5bGL5a2Q5aSn5L6g,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p> <p>从原理图中，也可以清晰的看出经典模式以实例为维度，分布式模式以slot为维度。</p> <h6 id="pika启动流程"><a href="#pika启动流程" class="header-anchor">#</a> pika启动流程</h6> <p>基于pika-3.4.0版本的代码结构，其中pika引用了四个第三方的库，分别如下：</p> <ol><li>Blackwidow，由piak自行维护的基于rocksdb的存储管理，所有pika的数据操作都会通过blackwidow的封装最终落入rocksdb。</li> <li>Glog，日志库，用于pika项目输入不同等级的日志。</li> <li>Pink，由pika自行维护的事件驱动框架，封装了redis协议的解析分发功能，并提供回调函数进行处理。</li> <li>Slash，一些处理工具函数，例如同步的或者数据类型的工具函数。</li></ol> <p>启动流程中最主要的几个函数如下：</p> <div class="language-c++ extra-class"><pre class="language-text"><code>int main(int argc, char *argv[]) {
  ...
  LOG(INFO) &lt;&lt; &quot;Server at: &quot; &lt;&lt; path;
  g_pika_cmd_table_manager = new PikaCmdTableManager();
  g_pika_server = new PikaServer();
  g_pika_rm = new PikaReplicaManager();
  g_pika_proxy = new PikaProxy();

  if (g_pika_conf-&gt;daemonize()) {
    close_std();
  }

  g_pika_proxy-&gt;Start();
  g_pika_rm-&gt;Start();
  g_pika_server-&gt;Start();
  ...
}

</code></pre></div><p>分为四步，即首先初始化cmd的命令，然后初始化PikaServer，接着初始化PikaReplicaManager，最后初始化PikaProxy，主要的启动函数就是如上几步，接着就继续分析一下。</p> <h6 id="pikaserver功能"><a href="#pikaserver功能" class="header-anchor">#</a> PikaServer功能</h6> <div class="language-c++ extra-class"><pre class="language-text"><code>PikaServer::PikaServer() :
  exit_(false),
  slot_state_(INFREE),
  have_scheduled_crontask_(false),
  last_check_compact_time_({0, 0}),
  master_ip_(&quot;&quot;),
  master_port_(0),
  repl_state_(PIKA_REPL_NO_CONNECT),
  role_(PIKA_ROLE_SINGLE),
  last_meta_sync_timestamp_(0),
  first_meta_sync_(false),
  loop_partition_state_machine_(false),
  force_full_sync_(false),
  slowlog_entry_id_(0) {

  //Init server ip host
  if (!ServerInit()) {   // 初始化监听的端口和IP
    LOG(FATAL) &lt;&lt; &quot;ServerInit iotcl error&quot;;
  }

  ...
  InitBlackwidowOptions();   // 初始化Blackwidow的参数项，主要配置rocksdb的相关参数
	...

  // Create thread   根据配置来查看有多少的工作线程数
  worker_num_ = std::min(g_pika_conf-&gt;thread_num(),
                         PIKA_MAX_WORKER_THREAD_NUM);

  std::set&lt;std::string&gt; ips;
  if (g_pika_conf-&gt;network_interface().empty()) {
    ips.insert(&quot;0.0.0.0&quot;);
  } else {
    ips.insert(&quot;127.0.0.1&quot;);
    ips.insert(host_);
  }
  // We estimate the queue size    获取处理的队列的大小
  int worker_queue_limit = g_pika_conf-&gt;maxclients() / worker_num_ + 100;
  LOG(INFO) &lt;&lt; &quot;Worker queue limit is &quot; &lt;&lt; worker_queue_limit;
  pika_dispatch_thread_ = new PikaDispatchThread(ips, port_, worker_num_, 3000,
                                                 worker_queue_limit, g_pika_conf-&gt;max_conn_rbuf_size());     // 设置处理响应请求的线程池
  pika_monitor_thread_ = new PikaMonitorThread();   // 监控的线程池
  pika_rsync_service_ = new PikaRsyncService(g_pika_conf-&gt;db_sync_path(),
                                             g_pika_conf-&gt;port() + kPortShiftRSync);  // 同步的线程池
  pika_pubsub_thread_ = new pink::PubSubThread();   // 订阅发布处理线程
  pika_auxiliary_thread_ = new PikaAuxiliaryThread();   // 心跳辅助的状态改变处理线程

  pika_client_processor_ = new PikaClientProcessor(g_pika_conf-&gt;thread_pool_size(), 100000);   //  处理异步的task

  pthread_rwlock_init(&amp;state_protector_, NULL);
  pthread_rwlock_init(&amp;slowlog_protector_, NULL);
}
</code></pre></div><p>这其中初始化了大量的工作线程，来启动协同处理分别启动了6个不同的线程池或者线程来进行不同的处理工作。</p> <h6 id="pikadispatchthread"><a href="#pikadispatchthread" class="header-anchor">#</a> PikaDispatchThread</h6> <div class="language-c++ extra-class"><pre class="language-text"><code>PikaDispatchThread::PikaDispatchThread(std::set&lt;std::string&gt; &amp;ips, int port, int work_num,
                                       int cron_interval, int queue_limit, int max_conn_rbuf_size)
    : conn_factory_(max_conn_rbuf_size),
      handles_(this) {
  thread_rep_ = pink::NewDispatchThread(ips, port, work_num, &amp;conn_factory_,
                                        cron_interval, queue_limit, &amp;handles_);
  thread_rep_-&gt;set_thread_name(&quot;Dispatcher&quot;);
}

...
private:
  class ClientConnFactory : public pink::ConnFactory {
   public:
     explicit ClientConnFactory(int max_conn_rbuf_size)
         : max_conn_rbuf_size_(max_conn_rbuf_size) {
     }
     virtual std::shared_ptr&lt;pink::PinkConn&gt; NewPinkConn(
        int connfd,
        const std::string &amp;ip_port,
        pink::Thread* server_thread,
        void* worker_specific_data,
        pink::PinkEpoll* pink_epoll) const {
       return std::static_pointer_cast&lt;pink::PinkConn&gt;
         (std::make_shared&lt;PikaClientConn&gt;(connfd, ip_port, server_thread, pink_epoll, pink::HandleType::kAsynchronous, max_conn_rbuf_size_));
     }
   private:
     int max_conn_rbuf_size_;
    ...
      
	...
  extern ServerThread *NewDispatchThread(
    const std::set&lt;std::string&gt;&amp; ips, int port,
    int work_num, ConnFactory* conn_factory,
    int cron_interval, int queue_limit,
    const ServerHandle* handle) {
  return new DispatchThread(ips, port, work_num, conn_factory,
                            cron_interval, queue_limit, handle);
  ...
    
  ...
  DispatchThread::DispatchThread(const std::set&lt;std::string&gt;&amp; ips, int port,
                               int work_num, ConnFactory* conn_factory,
                               int cron_interval, int queue_limit,
                               const ServerHandle* handle)
      : ServerThread::ServerThread(ips, port, cron_interval, handle),
        last_thread_(0),
        work_num_(work_num),
        queue_limit_(queue_limit) {
  worker_thread_ = new WorkerThread*[work_num_];
  for (int i = 0; i &lt; work_num_; i++) {
    worker_thread_[i] = new WorkerThread(conn_factory, this, queue_limit, cron_interval); // 生成多个工作线程，工作线程进来的请求通过conn_factory来进行处理
  }
}

DispatchThread::~DispatchThread() {
  for (int i = 0; i &lt; work_num_; i++) {
    delete worker_thread_[i];
  }
  delete[] worker_thread_;
}

int DispatchThread::StartThread() {
  for (int i = 0; i &lt; work_num_; i++) { // 根据设置的工作线程的数量来进行处理
    int ret = handle_-&gt;CreateWorkerSpecificData(
        &amp;(worker_thread_[i]-&gt;private_data_));
    if (ret != 0) {
      return ret;
    }

    if (!thread_name().empty()) {
      worker_thread_[i]-&gt;set_thread_name(&quot;WorkerThread&quot;);
    }
    ret = worker_thread_[i]-&gt;StartThread();  // 开启每一个工作线程
    if (ret != 0) {
      return ret;
    }
  }
  return ServerThread::StartThread();
}
...
      
</code></pre></div><p>此时会使用PikaDispatchThread的工厂方法来处理新接入的连接，并且每一个新进来的请求通过NewPinkConn来进行初始化，并接入处理。其中DispatchThread就是位于pink的库中实现的方法其中ServerThread机会在初始化的过程中进行端口IP的监听，在事件响应之后就会调用HandleNewConn方法来处理新加入的连接信息，会在处理的过程中进行一个轮训的操作来分配到工作线程，在加入事件之后就会通过新生成一个PikaClientConn来进行事件处理，当pink中的redisconn解析到了完整的命令的时候就会调用PikaClientConn的ProcessRedisCmds方法来处理（中间的逻辑有点复杂大家有兴趣可以自行查找源码阅读一下）。</p> <div class="language-c++ extra-class"><pre class="language-text"><code>void PikaClientConn::ProcessRedisCmds(const std::vector&lt;pink::RedisCmdArgsType&gt;&amp; argvs, bool async, std::string* response) {
  if (async) {   // 是否是后台任务
    BgTaskArg* arg = new BgTaskArg();  // 新建一个后台任务
    arg-&gt;redis_cmds = argvs;
    arg-&gt;conn_ptr = std::dynamic_pointer_cast&lt;PikaClientConn&gt;(shared_from_this());
    g_pika_server-&gt;ScheduleClientPool(&amp;DoBackgroundTask, arg);  // 放入PikaClientProcessor的线程池来进行处理
    return;
  }
  BatchExecRedisCmd(argvs);  // 如果不是则调用响应的线程池直接处理
}

...
void PikaClientConn::BatchExecRedisCmd(const std::vector&lt;pink::RedisCmdArgsType&gt;&amp; argvs) {
  resp_num.store(argvs.size());
  for (size_t i = 0; i &lt; argvs.size(); ++i) {  // 根据解析的输入参数大小来处理
    std::shared_ptr&lt;std::string&gt; resp_ptr = std::make_shared&lt;std::string&gt;();
    resp_array.push_back(resp_ptr);
    ExecRedisCmd(argvs[i], resp_ptr);   // 处理对应的命令
  }
  TryWriteResp();
}
...
void PikaClientConn::ExecRedisCmd(const PikaCmdArgsType&amp; argv, std::shared_ptr&lt;std::string&gt; resp_ptr) {
  // get opt
  std::string opt = argv[0];
  slash::StringToLower(opt);
  if (opt == kClusterPrefix) {   // 检查是否是集群名称开头
    if (argv.size() &gt;= 2 ) {
      opt += argv[1];
      slash::StringToLower(opt);
    }
  }

  std::shared_ptr&lt;Cmd&gt; cmd_ptr = DoCmd(argv, opt, resp_ptr);  // 执行命令
  // level == 0 or (cmd error) or (is_read)
  if (g_pika_conf-&gt;consensus_level() == 0 || !cmd_ptr-&gt;res().ok() || !cmd_ptr-&gt;is_write()) {
    *resp_ptr = std::move(cmd_ptr-&gt;res().message());
    resp_num--;
  }
}
...
  
std::shared_ptr&lt;Cmd&gt; PikaClientConn::DoCmd(
    const PikaCmdArgsType&amp; argv,
    const std::string&amp; opt,
    std::shared_ptr&lt;std::string&gt; resp_ptr) {
  // Get command info
  std::shared_ptr&lt;Cmd&gt; c_ptr = g_pika_cmd_table_manager-&gt;GetCmd(opt);   // 从命令列表中查找命令
  if (!c_ptr) {
    std::shared_ptr&lt;Cmd&gt; tmp_ptr = std::make_shared&lt;DummyCmd&gt;(DummyCmd());
    tmp_ptr-&gt;res().SetRes(CmdRes::kErrOther,
        &quot;unknown or unsupported command \'&quot; + opt + &quot;\&quot;&quot;);
    return tmp_ptr;
  }
  c_ptr-&gt;SetConn(std::dynamic_pointer_cast&lt;PikaClientConn&gt;(shared_from_this()));
  c_ptr-&gt;SetResp(resp_ptr);

  // Check authed
  // AuthCmd will set stat_
  if (!auth_stat_.IsAuthed(c_ptr)) {   // 检查是否认证
    c_ptr-&gt;res().SetRes(CmdRes::kErrOther, &quot;NOAUTH Authentication required.&quot;);
    return c_ptr;
  }

  uint64_t start_us = 0;
  if (g_pika_conf-&gt;slowlog_slower_than() &gt;= 0) {
    start_us = slash::NowMicros();
  }

  bool is_monitoring = g_pika_server-&gt;HasMonitorClients();  // 是否是监控的客户端
  if (is_monitoring) {
    ProcessMonitor(argv);
  }

  // Initial
  c_ptr-&gt;Initial(argv, current_table_);  // 初始化命令信息
  if (!c_ptr-&gt;res().ok()) {
    return c_ptr;
  }

  g_pika_server-&gt;UpdateQueryNumAndExecCountTable(current_table_, opt, c_ptr-&gt;is_write());

  // PubSub connection
  // (P)SubscribeCmd will set is_pubsub_
  if (this-&gt;IsPubSub()) {
    if (opt != kCmdNameSubscribe &amp;&amp;
        opt != kCmdNameUnSubscribe &amp;&amp;
        opt != kCmdNamePing &amp;&amp;
        opt != kCmdNamePSubscribe &amp;&amp;
        opt != kCmdNamePUnSubscribe) {
      c_ptr-&gt;res().SetRes(CmdRes::kErrOther,
          &quot;only (P)SUBSCRIBE / (P)UNSUBSCRIBE / PING / QUIT allowed in this context&quot;);
      return c_ptr;
    }
  }

  if (g_pika_conf-&gt;consensus_level() != 0 &amp;&amp; c_ptr-&gt;is_write()) {
    c_ptr-&gt;SetStage(Cmd::kBinlogStage);
  }
  if (!g_pika_server-&gt;IsCommandSupport(opt)) {
    c_ptr-&gt;res().SetRes(CmdRes::kErrOther,
        &quot;This command is not supported in current configuration&quot;);
    return c_ptr;
  }

  if (!g_pika_server-&gt;IsTableExist(current_table_)) {
    c_ptr-&gt;res().SetRes(CmdRes::kErrOther, &quot;Table not found&quot;);
    return c_ptr;
  }

  // TODO: Consider special commands, like flushall, flushdb?
  if (c_ptr-&gt;is_write()) {
    if (g_pika_server-&gt;IsTableBinlogIoError(current_table_)) {
      c_ptr-&gt;res().SetRes(CmdRes::kErrOther, &quot;Writing binlog failed, maybe no space left on device&quot;);
      return c_ptr;
    }
    std::vector&lt;std::string&gt; cur_key = c_ptr-&gt;current_key();
    if (cur_key.empty()) {
      c_ptr-&gt;res().SetRes(CmdRes::kErrOther, &quot;Internal ERROR&quot;);
      return c_ptr;
    }
    if (g_pika_server-&gt;readonly(current_table_, cur_key.front())) {
      c_ptr-&gt;res().SetRes(CmdRes::kErrOther, &quot;Server in read-only&quot;);
      return c_ptr;
    }
    if (!g_pika_server-&gt;ConsensusCheck(current_table_, cur_key.front())) {
      c_ptr-&gt;res().SetRes(CmdRes::kErrOther, &quot;Consensus level not match&quot;);
    }
  }

  // Process Command   执行命令
  c_ptr-&gt;Execute(); 

  if (g_pika_conf-&gt;slowlog_slower_than() &gt;= 0) {
    ProcessSlowlog(argv, start_us);
  }
  if (g_pika_conf-&gt;consensus_level() != 0 &amp;&amp; c_ptr-&gt;is_write()) {
    c_ptr-&gt;SetStage(Cmd::kExecuteStage);
  }

  return c_ptr;
}
...
</code></pre></div><p>通过层层的调用关系最终调用到了Cmd类的Do方法，例如SetCmd的执行流程如下：</p> <div class="language-c++ extra-class"><pre class="language-text"><code>void SetCmd::Do(std::shared_ptr&lt;Partition&gt; partition) {
  rocksdb::Status s;
  int32_t res = 1;
  switch (condition_) {
    case SetCmd::kXX:
      s = partition-&gt;db()-&gt;Setxx(key_, value_, &amp;res, sec_);  // 通过db来设置key相关的信息
      break;
    case SetCmd::kNX:
      s = partition-&gt;db()-&gt;Setnx(key_, value_, &amp;res, sec_);
      break;
    case SetCmd::kVX:
      s = partition-&gt;db()-&gt;Setvx(key_, target_, value_, &amp;success_, sec_);
      break;
    case SetCmd::kEXORPX:
      s = partition-&gt;db()-&gt;Setex(key_, value_, sec_);
      break;
    default:
      s = partition-&gt;db()-&gt;Set(key_, value_);
      break;
  }

  if (s.ok() || s.IsNotFound()) {
    if (condition_ == SetCmd::kVX) {
      res_.AppendInteger(success_);
    } else {
      if (res == 1) {
        res_.SetRes(CmdRes::kOk);
      } else {
        res_.AppendArrayLen(-1);;
      }
    }
  } else {
    res_.SetRes(CmdRes::kErrOther, s.ToString());
  }
}
</code></pre></div><p>至此就是通过一个简单的set命令来进行的流程，当然中间省略了很多复杂的交互细节，并且跳过了pink库的一个处理流程，最终会回调在pika中的ProcessRedisCmds处理。</p> <h6 id="pikaclientprocessor"><a href="#pikaclientprocessor" class="header-anchor">#</a> PikaClientProcessor</h6> <div class="language-c++ extra-class"><pre class="language-text"><code>PikaClientProcessor::PikaClientProcessor(
    size_t worker_num, size_t max_queue_size, const std::string&amp; name_prefix) {
  pool_ = new pink::ThreadPool(
      worker_num, max_queue_size, name_prefix + &quot;Pool&quot;);   // 生成一个线程池
  for (size_t i = 0; i &lt; worker_num; ++i) {   			// 根据设置的线程池数量来初始化
    pink::BGThread* bg_thread = new pink::BGThread(max_queue_size);  // 初始化bg工作线程
    bg_threads_.push_back(bg_thread);         	// 保存每个线程
    bg_thread-&gt;set_thread_name(name_prefix + &quot;BgThread&quot;);
  }
}
</code></pre></div><p>主要是生成线程池来进行后台运行。在上一节中分析的task就是交给了pool_线程池来进行数据的处理。一些协调数据同步的工作就交给了bg_threads线程池处理。</p> <p><img src="https://img-blog.csdnimg.cn/8987955274354b59b1966e1dc87506c3.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5bCP5bGL5a2Q5aSn5L6g,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p> <h5 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h5> <p>本文主要简单的描述了有关piak的总体设计框架（参考官网架构），简单的通过PikaServer的启动过程来描述了一下基础的处理逻辑，因为这其中涉及到大量的细节故并没有详尽的去分析，并且也没有涉及到其他的功能比如slot的数据一致性保证等等细节，后续有继续再继续查阅相关内容。由于本人才疏学浅，如有错误请批评指正。</p></div></section> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/vuepress-starter/design/Pika源码学习study4.html" class="prev">
          Pika源码学习--pika和rocksdb的对接
        </a></span> <span class="next"><a href="/vuepress-starter/design/pika在codis中的探索.html">
          pika在codis中的探索
        </a></span></p></div> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:0;" data-v-b57cc07c data-v-7dd95ae2></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/vuepress-starter/assets/js/app.f0fc3d8e.js" defer></script><script src="/vuepress-starter/assets/js/7.1224f65b.js" defer></script><script src="/vuepress-starter/assets/js/2.9327ce59.js" defer></script><script src="/vuepress-starter/assets/js/1.2cb690fe.js" defer></script><script src="/vuepress-starter/assets/js/49.ecdf7e69.js" defer></script>
  </body>
</html>
